<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>তথ্য সংগ্রহ ফর্ম</title>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;600;700&display=swap');

  body {
    font-family: 'Noto Sans Bengali', sans-serif;
    background: #f0f4f8;
  }

  /* আসসালামুয়ালাইকুম Animation */
  .welcome-text {
    font-size: 1rem;
    font-weight: 700;
    text-align: center;
    margin: 20px 0;
    animation: growText 2s ease-in-out forwards;
  }

  @keyframes growText {
    0% { font-size: 1rem; opacity: 0; }
    50% { font-size: 2rem; opacity: 0.7; }
    100% { font-size: 3rem; opacity: 1; }
  }

  /* ফর্ম বর্ডার Animation */
  .animated-border {
    border: 4px solid;
    border-image-slice: 1;
    border-width: 4px;
    border-image-source: linear-gradient(90deg, red, green, blue, red);
    animation: borderAnim 3s linear infinite;
    padding: 20px;
    border-radius: 12px;
  }

  @keyframes borderAnim {
    0% { border-image-source: linear-gradient(90deg, red, green, blue, red); }
    25% { border-image-source: linear-gradient(90deg, green, blue, red, green); }
    50% { border-image-source: linear-gradient(90deg, blue, red, green, blue); }
    75% { border-image-source: linear-gradient(90deg, red, green, blue, red); }
    100% { border-image-source: linear-gradient(90deg, red, green, blue, red); }
  }

  .input-focus:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    outline: none;
  }

  .file-upload {
    position: relative;
    overflow: hidden;
    display: inline-block;
    cursor: pointer;
  }

  .file-upload input[type=file] {
    position: absolute;
    left: -9999px;
  }

  .preview-image {
    max-width: 150px;
    max-height: 150px;
    margin-top: 10px;
    border-radius: 8px;
  }

</style>
</head>
<body class="flex flex-col items-center py-10">

  <!-- আসসালামুয়ালাইকুম বার্তা -->
  <div class="welcome-text text-gray-800">আসসালামুয়ালাইকুম! আপনাকে স্বাগতম, আপনার তথ্য প্রদান করুন।</div>

  <!-- ফর্ম -->
  <div class="animated-border bg-white shadow-lg max-w-lg w-full mt-6">
    <form id="userInfoForm" class="space-y-4">
      <!-- নাম -->
      <div>
        <label class="block text-sm font-medium text-gray-700">নাম <span class="text-red-500">*</span></label>
        <input type="text" name="name" required placeholder="আপনার নাম লিখুন"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
      </div>

      <!-- মোবাইল -->
      <div>
        <label class="block text-sm font-medium text-gray-700">মোবাইল নম্বর <span class="text-red-500">*</span></label>
        <input type="tel" name="mobile" required placeholder="০১৭xxxxxxxx" pattern="[0-9]{11}"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
      </div>

      <!-- জাতীয়তা -->
      <div>
        <label class="block text-sm font-medium text-gray-700">জাতীয়তা <span class="text-red-500">*</span></label>
        <input type="text" name="nationality" required placeholder="আপনার জাতীয়তা লিখুন"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus">
      </div>

      <!-- ঠিকানা -->
      <div>
        <label class="block text-sm font-medium text-gray-700">ঠিকানা <span class="text-red-500">*</span></label>
        <textarea name="address" required rows="3" placeholder="আপনার ঠিকানা লিখুন"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg input-focus"></textarea>
      </div>

      <!-- ছবি আপলোড -->
      <div>
        <label class="block text-sm font-medium text-gray-700">ছবি <span class="text-red-500">*</span></label>
        <div class="file-upload">
          <label for="photo" class="flex items-center justify-center w-full px-3 py-4 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-400 transition-colors duration-200">
            <div class="text-center">
              <p class="text-gray-600">ছবি নির্বাচন করুন অথবা এখানে ড্র্যাগ করুন</p>
            </div>
          </label>
          <input type="file" name="photo" id="photo" accept="image/*" required onchange="previewImage(this)">
        </div>
        <div id="imagePreview" class="mt-2 hidden">
          <img id="preview" class="preview-image" alt="ছবির প্রিভিউ">
        </div>
      </div>

      <!-- সাবমিট -->
      <div>
        <button type="submit" class="w-full bg-gradient-to-r from-blue-500 to-green-500 text-white py-2 rounded-lg hover:from-blue-600 hover:to-green-600 transition-all duration-200">
          তথ্য জমা দিন
        </button>
      </div>
    </form>
  </div>

<script>
  // ছবি প্রিভিউ
  function previewImage(input) {
    const file = input.files[0];
    const preview = document.getElementById('preview');
    const previewContainer = document.getElementById('imagePreview');
    if(file){
      const reader = new FileReader();
      reader.onload = function(e){
        preview.src = e.target.result;
        previewContainer.classList.remove('hidden');
      }
      reader.readAsDataURL(file);
    } else {
      previewContainer.classList.add('hidden');
    }
  }

  // EmailJS init
  emailjs.init("msC8TfnIOvrxRxUDM"); // তোমার Public Key

  // ফর্ম সাবমিট
  document.getElementById('userInfoForm').addEventListener('submit', function(e){
    e.preventDefault();

    emailjs.sendForm("service_czkqozf", "template_htim0to", this)
      .then(() => {
        alert("✅ তথ্য সফলভাবে পাঠানো হয়েছে!");
        this.reset();
        document.getElementById('imagePreview').classList.add('hidden');
      }, (err)=>{
        alert("❌ কিছু ভুল হয়েছে: " + JSON.stringify(err));
      });
  });
</script>

</body>
</html>